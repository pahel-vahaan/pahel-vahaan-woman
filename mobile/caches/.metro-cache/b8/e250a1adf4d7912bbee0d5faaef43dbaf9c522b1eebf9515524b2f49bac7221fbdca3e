{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../../utils/region","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":54,"index":110}}],"key":"GETxcbyik7Wzhks3VfJ7mc44p4A=","exportNames":["*"]}},{"name":"./cluster","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":36,"index":147}}],"key":"5ADZMI1dKwBSBucPCtmAgdsgMkk=","exportNames":["*"]}},{"name":"supercluster","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":148},"end":{"line":4,"column":40,"index":188}}],"key":"Oj/BgJKaUrnhrBxbgACxnRxOAbg=","exportNames":["*"]}},{"name":"../marker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":189},"end":{"line":5,"column":35,"index":224}}],"key":"M6Oug7AwwFI1WcX6GVePRyEmp2I=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.MarkerClusterer = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _region = require(_dependencyMap[2], \"../../utils/region\");\n  var _cluster = require(_dependencyMap[3], \"./cluster\");\n  var _supercluster = _interopRequireDefault(require(_dependencyMap[4], \"supercluster\"));\n  var _marker = require(_dependencyMap[5], \"../marker\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function _MarkerClusterer(props) {\n    const [supercluster, _setSupercluster] = (0, _react.useState)(new _supercluster.default());\n    const markers = (0, _react.useMemo)(() => _react.default.Children.toArray(props.children).filter(child => {\n      return child.type === _marker.Marker;\n    }) || [], [props.children]);\n    const points = (0, _react.useMemo)(() => markers.map(node => ({\n      type: 'Feature',\n      properties: {\n        cluster: false,\n        node\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: [Number(node.props.coordinate.longitude), Number(node.props.coordinate.latitude)]\n      }\n    })), [markers]);\n    const clusters = (0, _react.useMemo)(() => {\n      if (!props.region) return [];\n      const bbox = (0, _region.getBoundByRegion)(props.region);\n      supercluster.load(points);\n      return supercluster.getClusters(bbox, Math.round(Math.log(360 / props.region.longitudeDelta) / Math.LN2));\n    }, [props.region, points]);\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, clusters.map((feature, idx) => {\n      var _props$renderCluster;\n      const clusterProperties = feature.properties;\n      const clusterProps = {\n        expansionZoom: supercluster.getClusterExpansionZoom(clusterProperties.cluster_id),\n        pointCount: clusterProperties.point_count,\n        pointCountAbbreviated: clusterProperties.point_count_abbreviated,\n        coordinate: {\n          longitude: feature.geometry.coordinates[0],\n          latitude: feature.geometry.coordinates[1]\n        }\n      };\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, {\n        key: idx.toString()\n      }, feature.properties.cluster === true ? ((_props$renderCluster = props.renderCluster) === null || _props$renderCluster === void 0 ? void 0 : _props$renderCluster.call(props, clusterProps)) || /*#__PURE__*/_react.default.createElement(_cluster.Cluster, clusterProps) : feature.properties.node);\n    }));\n  }\n  const MarkerClusterer = exports.MarkerClusterer = /*#__PURE__*/(0, _react.memo)(_MarkerClusterer);\n});","lineCount":53,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_region"],[8,13,2,0],[8,16,2,0,"require"],[8,23,2,0],[8,24,2,0,"_dependencyMap"],[8,38,2,0],[9,2,3,0],[9,6,3,0,"_cluster"],[9,14,3,0],[9,17,3,0,"require"],[9,24,3,0],[9,25,3,0,"_dependencyMap"],[9,39,3,0],[10,2,4,0],[10,6,4,0,"_supercluster"],[10,19,4,0],[10,22,4,0,"_interopRequireDefault"],[10,44,4,0],[10,45,4,0,"require"],[10,52,4,0],[10,53,4,0,"_dependencyMap"],[10,67,4,0],[11,2,5,0],[11,6,5,0,"_marker"],[11,13,5,0],[11,16,5,0,"require"],[11,23,5,0],[11,24,5,0,"_dependencyMap"],[11,38,5,0],[12,2,5,35],[12,11,5,35,"_interopRequireWildcard"],[12,35,5,35,"e"],[12,36,5,35],[12,38,5,35,"t"],[12,39,5,35],[12,68,5,35,"WeakMap"],[12,75,5,35],[12,81,5,35,"r"],[12,82,5,35],[12,89,5,35,"WeakMap"],[12,96,5,35],[12,100,5,35,"n"],[12,101,5,35],[12,108,5,35,"WeakMap"],[12,115,5,35],[12,127,5,35,"_interopRequireWildcard"],[12,150,5,35],[12,162,5,35,"_interopRequireWildcard"],[12,163,5,35,"e"],[12,164,5,35],[12,166,5,35,"t"],[12,167,5,35],[12,176,5,35,"t"],[12,177,5,35],[12,181,5,35,"e"],[12,182,5,35],[12,186,5,35,"e"],[12,187,5,35],[12,188,5,35,"__esModule"],[12,198,5,35],[12,207,5,35,"e"],[12,208,5,35],[12,214,5,35,"o"],[12,215,5,35],[12,217,5,35,"i"],[12,218,5,35],[12,220,5,35,"f"],[12,221,5,35],[12,226,5,35,"__proto__"],[12,235,5,35],[12,243,5,35,"default"],[12,250,5,35],[12,252,5,35,"e"],[12,253,5,35],[12,270,5,35,"e"],[12,271,5,35],[12,294,5,35,"e"],[12,295,5,35],[12,320,5,35,"e"],[12,321,5,35],[12,330,5,35,"f"],[12,331,5,35],[12,337,5,35,"o"],[12,338,5,35],[12,341,5,35,"t"],[12,342,5,35],[12,345,5,35,"n"],[12,346,5,35],[12,349,5,35,"r"],[12,350,5,35],[12,358,5,35,"o"],[12,359,5,35],[12,360,5,35,"has"],[12,363,5,35],[12,364,5,35,"e"],[12,365,5,35],[12,375,5,35,"o"],[12,376,5,35],[12,377,5,35,"get"],[12,380,5,35],[12,381,5,35,"e"],[12,382,5,35],[12,385,5,35,"o"],[12,386,5,35],[12,387,5,35,"set"],[12,390,5,35],[12,391,5,35,"e"],[12,392,5,35],[12,394,5,35,"f"],[12,395,5,35],[12,411,5,35,"t"],[12,412,5,35],[12,416,5,35,"e"],[12,417,5,35],[12,433,5,35,"t"],[12,434,5,35],[12,441,5,35,"hasOwnProperty"],[12,455,5,35],[12,456,5,35,"call"],[12,460,5,35],[12,461,5,35,"e"],[12,462,5,35],[12,464,5,35,"t"],[12,465,5,35],[12,472,5,35,"i"],[12,473,5,35],[12,477,5,35,"o"],[12,478,5,35],[12,481,5,35,"Object"],[12,487,5,35],[12,488,5,35,"defineProperty"],[12,502,5,35],[12,507,5,35,"Object"],[12,513,5,35],[12,514,5,35,"getOwnPropertyDescriptor"],[12,538,5,35],[12,539,5,35,"e"],[12,540,5,35],[12,542,5,35,"t"],[12,543,5,35],[12,550,5,35,"i"],[12,551,5,35],[12,552,5,35,"get"],[12,555,5,35],[12,559,5,35,"i"],[12,560,5,35],[12,561,5,35,"set"],[12,564,5,35],[12,568,5,35,"o"],[12,569,5,35],[12,570,5,35,"f"],[12,571,5,35],[12,573,5,35,"t"],[12,574,5,35],[12,576,5,35,"i"],[12,577,5,35],[12,581,5,35,"f"],[12,582,5,35],[12,583,5,35,"t"],[12,584,5,35],[12,588,5,35,"e"],[12,589,5,35],[12,590,5,35,"t"],[12,591,5,35],[12,602,5,35,"f"],[12,603,5,35],[12,608,5,35,"e"],[12,609,5,35],[12,611,5,35,"t"],[12,612,5,35],[13,2,6,0],[13,11,6,9,"_MarkerClusterer"],[13,27,6,25,"_MarkerClusterer"],[13,28,6,26,"props"],[13,33,6,31],[13,35,6,33],[14,4,7,2],[14,10,7,8],[14,11,7,9,"supercluster"],[14,23,7,21],[14,25,7,23,"_setSupercluster"],[14,41,7,39],[14,42,7,40],[14,45,7,43],[14,49,7,43,"useState"],[14,64,7,51],[14,66,7,52],[14,70,7,56,"Supercluster"],[14,91,7,68],[14,92,7,69],[14,93,7,70],[14,94,7,71],[15,4,8,2],[15,10,8,8,"markers"],[15,17,8,15],[15,20,8,18],[15,24,8,18,"useMemo"],[15,38,8,25],[15,40,8,26],[15,46,8,32,"React"],[15,60,8,37],[15,61,8,38,"Children"],[15,69,8,46],[15,70,8,47,"toArray"],[15,77,8,54],[15,78,8,55,"props"],[15,83,8,60],[15,84,8,61,"children"],[15,92,8,69],[15,93,8,70],[15,94,8,71,"filter"],[15,100,8,77],[15,101,8,78,"child"],[15,106,8,83],[15,110,8,87],[16,6,9,4],[16,13,9,11,"child"],[16,18,9,16],[16,19,9,17,"type"],[16,23,9,21],[16,28,9,26,"Marker"],[16,42,9,32],[17,4,10,2],[17,5,10,3],[17,6,10,4],[17,10,10,8],[17,12,10,10],[17,14,10,12],[17,15,10,13,"props"],[17,20,10,18],[17,21,10,19,"children"],[17,29,10,27],[17,30,10,28],[17,31,10,29],[18,4,11,2],[18,10,11,8,"points"],[18,16,11,14],[18,19,11,17],[18,23,11,17,"useMemo"],[18,37,11,24],[18,39,11,25],[18,45,11,31,"markers"],[18,52,11,38],[18,53,11,39,"map"],[18,56,11,42],[18,57,11,43,"node"],[18,61,11,47],[18,66,11,52],[19,6,12,4,"type"],[19,10,12,8],[19,12,12,10],[19,21,12,19],[20,6,13,4,"properties"],[20,16,13,14],[20,18,13,16],[21,8,14,6,"cluster"],[21,15,14,13],[21,17,14,15],[21,22,14,20],[22,8,15,6,"node"],[23,6,16,4],[23,7,16,5],[24,6,17,4,"geometry"],[24,14,17,12],[24,16,17,14],[25,8,18,6,"type"],[25,12,18,10],[25,14,18,12],[25,21,18,19],[26,8,19,6,"coordinates"],[26,19,19,17],[26,21,19,19],[26,22,19,20,"Number"],[26,28,19,26],[26,29,19,27,"node"],[26,33,19,31],[26,34,19,32,"props"],[26,39,19,37],[26,40,19,38,"coordinate"],[26,50,19,48],[26,51,19,49,"longitude"],[26,60,19,58],[26,61,19,59],[26,63,19,61,"Number"],[26,69,19,67],[26,70,19,68,"node"],[26,74,19,72],[26,75,19,73,"props"],[26,80,19,78],[26,81,19,79,"coordinate"],[26,91,19,89],[26,92,19,90,"latitude"],[26,100,19,98],[26,101,19,99],[27,6,20,4],[28,4,21,2],[28,5,21,3],[28,6,21,4],[28,7,21,5],[28,9,21,7],[28,10,21,8,"markers"],[28,17,21,15],[28,18,21,16],[28,19,21,17],[29,4,22,2],[29,10,22,8,"clusters"],[29,18,22,16],[29,21,22,19],[29,25,22,19,"useMemo"],[29,39,22,26],[29,41,22,27],[29,47,22,33],[30,6,23,4],[30,10,23,8],[30,11,23,9,"props"],[30,16,23,14],[30,17,23,15,"region"],[30,23,23,21],[30,25,23,23],[30,32,23,30],[30,34,23,32],[31,6,24,4],[31,12,24,10,"bbox"],[31,16,24,14],[31,19,24,17],[31,23,24,17,"getBoundByRegion"],[31,47,24,33],[31,49,24,34,"props"],[31,54,24,39],[31,55,24,40,"region"],[31,61,24,46],[31,62,24,47],[32,6,25,4,"supercluster"],[32,18,25,16],[32,19,25,17,"load"],[32,23,25,21],[32,24,25,22,"points"],[32,30,25,28],[32,31,25,29],[33,6,26,4],[33,13,26,11,"supercluster"],[33,25,26,23],[33,26,26,24,"getClusters"],[33,37,26,35],[33,38,26,36,"bbox"],[33,42,26,40],[33,44,26,42,"Math"],[33,48,26,46],[33,49,26,47,"round"],[33,54,26,52],[33,55,26,53,"Math"],[33,59,26,57],[33,60,26,58,"log"],[33,63,26,61],[33,64,26,62],[33,67,26,65],[33,70,26,68,"props"],[33,75,26,73],[33,76,26,74,"region"],[33,82,26,80],[33,83,26,81,"longitudeDelta"],[33,97,26,95],[33,98,26,96],[33,101,26,99,"Math"],[33,105,26,103],[33,106,26,104,"LN2"],[33,109,26,107],[33,110,26,108],[33,111,26,109],[34,4,27,2],[34,5,27,3],[34,7,27,5],[34,8,27,6,"props"],[34,13,27,11],[34,14,27,12,"region"],[34,20,27,18],[34,22,27,20,"points"],[34,28,27,26],[34,29,27,27],[34,30,27,28],[35,4,28,2],[35,11,28,9],[35,24,28,22,"React"],[35,38,28,27],[35,39,28,28,"createElement"],[35,52,28,41],[35,53,28,42,"React"],[35,67,28,47],[35,68,28,48,"Fragment"],[35,76,28,56],[35,78,28,58],[35,82,28,62],[35,84,28,64,"clusters"],[35,92,28,72],[35,93,28,73,"map"],[35,96,28,76],[35,97,28,77],[35,98,28,78,"feature"],[35,105,28,85],[35,107,28,87,"idx"],[35,110,28,90],[35,115,28,95],[36,6,29,4],[36,10,29,8,"_props$renderCluster"],[36,30,29,28],[37,6,30,4],[37,12,30,10,"clusterProperties"],[37,29,30,27],[37,32,30,30,"feature"],[37,39,30,37],[37,40,30,38,"properties"],[37,50,30,48],[38,6,31,4],[38,12,31,10,"clusterProps"],[38,24,31,22],[38,27,31,25],[39,8,32,6,"expansionZoom"],[39,21,32,19],[39,23,32,21,"supercluster"],[39,35,32,33],[39,36,32,34,"getClusterExpansionZoom"],[39,59,32,57],[39,60,32,58,"clusterProperties"],[39,77,32,75],[39,78,32,76,"cluster_id"],[39,88,32,86],[39,89,32,87],[40,8,33,6,"pointCount"],[40,18,33,16],[40,20,33,18,"clusterProperties"],[40,37,33,35],[40,38,33,36,"point_count"],[40,49,33,47],[41,8,34,6,"pointCountAbbreviated"],[41,29,34,27],[41,31,34,29,"clusterProperties"],[41,48,34,46],[41,49,34,47,"point_count_abbreviated"],[41,72,34,70],[42,8,35,6,"coordinate"],[42,18,35,16],[42,20,35,18],[43,10,36,8,"longitude"],[43,19,36,17],[43,21,36,19,"feature"],[43,28,36,26],[43,29,36,27,"geometry"],[43,37,36,35],[43,38,36,36,"coordinates"],[43,49,36,47],[43,50,36,48],[43,51,36,49],[43,52,36,50],[44,10,37,8,"latitude"],[44,18,37,16],[44,20,37,18,"feature"],[44,27,37,25],[44,28,37,26,"geometry"],[44,36,37,34],[44,37,37,35,"coordinates"],[44,48,37,46],[44,49,37,47],[44,50,37,48],[45,8,38,6],[46,6,39,4],[46,7,39,5],[47,6,40,4],[47,13,40,11],[47,26,40,24,"React"],[47,40,40,29],[47,41,40,30,"createElement"],[47,54,40,43],[47,55,40,44,"React"],[47,69,40,49],[47,70,40,50,"Fragment"],[47,78,40,58],[47,80,40,60],[48,8,41,6,"key"],[48,11,41,9],[48,13,41,11,"idx"],[48,16,41,14],[48,17,41,15,"toString"],[48,25,41,23],[48,26,41,24],[49,6,42,4],[49,7,42,5],[49,9,42,7,"feature"],[49,16,42,14],[49,17,42,15,"properties"],[49,27,42,25],[49,28,42,26,"cluster"],[49,35,42,33],[49,40,42,38],[49,44,42,42],[49,47,42,45],[49,48,42,46],[49,49,42,47,"_props$renderCluster"],[49,69,42,67],[49,72,42,70,"props"],[49,77,42,75],[49,78,42,76,"renderCluster"],[49,91,42,89],[49,97,42,95],[49,101,42,99],[49,105,42,103,"_props$renderCluster"],[49,125,42,123],[49,130,42,128],[49,135,42,133],[49,136,42,134],[49,139,42,137],[49,144,42,142],[49,145,42,143],[49,148,42,146,"_props$renderCluster"],[49,168,42,166],[49,169,42,167,"call"],[49,173,42,171],[49,174,42,172,"props"],[49,179,42,177],[49,181,42,179,"clusterProps"],[49,193,42,191],[49,194,42,192],[49,199,42,197],[49,212,42,210,"React"],[49,226,42,215],[49,227,42,216,"createElement"],[49,240,42,229],[49,241,42,230,"Cluster"],[49,257,42,237],[49,259,42,239,"clusterProps"],[49,271,42,251],[49,272,42,252],[49,275,42,255,"feature"],[49,282,42,262],[49,283,42,263,"properties"],[49,293,42,273],[49,294,42,274,"node"],[49,298,42,278],[49,299,42,279],[50,4,43,2],[50,5,43,3],[50,6,43,4],[50,7,43,5],[51,2,44,0],[52,2,45,7],[52,8,45,13,"MarkerClusterer"],[52,23,45,28],[52,26,45,28,"exports"],[52,33,45,28],[52,34,45,28,"MarkerClusterer"],[52,49,45,28],[52,52,45,31],[52,65,45,44],[52,69,45,44,"memo"],[52,80,45,48],[52,82,45,49,"_MarkerClusterer"],[52,98,45,65],[52,99,45,66],[53,0,45,67],[53,3]],"functionMap":{"names":["<global>","_MarkerClusterer","useMemo$argument_0","React.Children.toArray.filter$argument_0","markers.map$argument_0","clusters.map$argument_0"],"mappings":"AAA;ACK;0BCE,oDC;GDE,OD;yBCC,kBE;IFU,CD;2BCC;GDK;6EIC;GJe;CDC"}},"type":"js/module"}]}